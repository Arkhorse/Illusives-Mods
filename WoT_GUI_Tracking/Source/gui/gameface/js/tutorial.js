!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";var i=n(1),r=n(2);class o{constructor(){this.entries=[],this._listenMouse=!1,this.onMouseDown=e=>{this.entries.forEach(({container:t,callback:n})=>{let i=e.target;do{if(i===t)return;i=i.parentNode}while(i);n()})}}static get instance(){return o.__instance||(o.__instance=new o),o.__instance}register(e,t){this.addMouseListener(),this.entries.push({container:e,callback:t})}unregister(e,t){const n=e,i=t;this.entries=this.entries.filter(({container:e,callback:t})=>e!==n||t!==i),this.removeMouseListener()}addMouseListener(){this._listenMouse||(document.addEventListener("mousedown",this.onMouseDown),this._listenMouse=!0)}removeMouseListener(){this._listenMouse&&0===this.entries.length&&(document.removeEventListener("mousedown",this.onMouseDown),this._listenMouse=!1)}}o.__instance=void 0;var s=o;let a;!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.TOOLTIP=1]="TOOLTIP",e[e.POP_OVER=2]="POP_OVER",e[e.CONTEXT_MENU=4]="CONTEXT_MENU",e[e.DROP_DOWN=8]="DROP_DOWN",e[e.MOVE=16]="MOVE",e[e.CLOSE=32]="CLOSE",e[e.MINIMIZE=64]="MINIMIZE"}(a||(a={}));const c=Object.freeze({INTEGRAL:0,GOLD:1}),l=Object.freeze({FRACTIONAL:0,WO_ZERO_DIGITS:1}),u=Object.freeze({SHORT_FORMAT:0,LONG_FORMAT:1}),d=Object.freeze({SHORT_FORMAT:0,LONG_FORMAT:1,YEAR_MONTH:2});let h;function f(e,t,n,i,r,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(i,r)}!function(e){e[e.ALT=164]="ALT",e[e.ENTER=13]="ENTER",e[e.ESCAPE=27]="ESCAPE",e[e.SPACE=32]="SPACE",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.ARROW_LEFT=37]="ARROW_LEFT",e[e.ARROW_UP=38]="ARROW_UP",e[e.ARROW_RIGHT=39]="ARROW_RIGHT",e[e.ARROW_DOWN=40]="ARROW_DOWN",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.BACKSPACE=8]="BACKSPACE",e[e.DELETE=46]="DELETE",e[e.TAB=9]="TAB"}(h||(h={}));const v=e=>({__Type:"GFBoundingBox",x:e.x,y:e.y,width:e.width,height:e.height}),p=function(){var e,t=(e=function*(){return!(!engine._BindingsReady||!engine._WindowLoaded)||new Promise(e=>{engine.on("Ready",e)})},function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){f(o,i,r,s,a,"next",e)}function a(e){f(o,i,r,s,a,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}(),m=()=>new Promise(e=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e()})})}),_=e=>Object.entries(e).map(([e,t])=>{const n={__Type:"GFValueProxy",name:e};switch(typeof t){case"number":n.number=t;break;case"boolean":n.bool=t;break;default:case"string":n.string=t.toString()}return n}),b=(e,t)=>{const n="GFViewEventProxy";if(void 0!==t){const i=t.args,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,["args"]);void 0!==i?viewEnv.handleViewEvent(Object.assign({__Type:n,type:e},r,{arguments:_(i)})):viewEnv.handleViewEvent(Object.assign({__Type:n,type:e},r))}else viewEnv.handleViewEvent({__Type:n,type:e})},w=()=>b(a.CLOSE),y=(e,t)=>{e.keyCode===h.ESCAPE&&t()},g={getNumberFormat:(e,t)=>systemLocale.getNumberFormat(e,t),getRealFormat:(e,t)=>systemLocale.getRealFormat(e,t),getTimeFormat:(e,t)=>systemLocale.getTimeFormat(e,t),getDateFormat:(e,t)=>systemLocale.getDateFormat(e,t)},E={getNumberFormat:e=>userLocale.getNumberFormat(e),getTimeFormat:(e,t,n)=>userLocale.getTimeFormat(e,t,void 0===n||n),getTimeString:(e,t,n)=>userLocale.getTimeString(e,t,void 0===n||n)};n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));const O=s.instance,M={DataTracker:i.a,ViewModel:r.a,ViewEventType:a,NumberFormatType:c,RealFormatType:l,TimeFormatType:u,DateFormatType:d,makeGlobalBoundingBox:v,sendMoveEvent:e=>b(a.MOVE,{isMouseEvent:!0,on:e}),sendCloseEvent:w,sendClosePopOverEvent:()=>b(a.POP_OVER,{on:!1}),sendShowContextMenuEvent:(e,t,n=0)=>{b(a.CONTEXT_MENU,{isMouseEvent:!0,contentID:e,on:!0,decoratorID:n,args:t})},sendShowPopOverEvent:(e,t,n,i,r)=>{const o=viewEnv.getViewGlobalPosition(),s=n.getBoundingClientRect(),c=s.x,l=s.y,u=s.width,d=s.height,h={x:viewEnv.pxToRem(c+o.x),y:viewEnv.pxToRem(l+o.y),width:viewEnv.pxToRem(u),height:viewEnv.pxToRem(d)};b(a.POP_OVER,{isMouseEvent:!0,contentID:e,decoratorID:i||R.invalid("resId"),direction:t,bbox:v(h),on:!0,args:r})},addEscapeListener:e=>{const t=t=>y(t,e);return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},closeOnEsc:e=>{y(e,w)},handleViewEvent:b,onBindingsReady:p,onLayoutReady:m,onWindowLoaded:()=>new Promise(e=>{engine.on("windowLoaded",e)}),isTooltipShown:()=>viewEnv.isWindowShownByViewEvent(a.TOOLTIP),isContextMenuShown:()=>viewEnv.isWindowShownByViewEvent(a.CONTEXT_MENU),isPopOverShown:()=>viewEnv.isWindowShownByViewEvent(a.POP_OVER),dumpViewModel:function e(t){const n={};if("object"!=typeof t)return t;for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const r=Object.prototype.toString.call(t[i]);if(r.startsWith("[object CoherentArrayProxy]")){const r=t[i];n[i]=[];for(let t=0;t<r.length;t++)n[i].push({value:e(r[t].value)})}else r.startsWith("[object class BW::WULF::ViewModel")?n[i]=e(t[i]):n[i]=t[i]}return n},ClickOutsideManager:O,SystemLocale:g,UserLocale:E};window.ViewEnvHelper=M},function(e,t,n){"use strict";class i{constructor(){this._callbacks=void 0,this._updateHandler=void 0,this._views=void 0,this.clearViewCallbacks=e=>{this._views[e]&&(this._views[e].forEach(e=>{delete this._callbacks[e]}),delete this._views[e])},this._callbacks={},this._views={},this._updateHandler=void 0}static get instance(){return window.__dataTracker||(window.__dataTracker=new i),window.__dataTracker}clear(){void 0!==this._updateHandler&&(this._updateHandler.clear(),this._updateHandler=void 0),this._callbacks={}}addCallback(e,t,n=0){void 0===this._updateHandler&&(this._updateHandler=engine.on("viewEnv.onDataChanged",this._emmitDataChanged,this));const i=viewEnv.addDataChangedCallback(e,n);return i>0?(this._callbacks[i]=t,n>0&&(this._views[n]?this._views[n].push(i):this._views[n]=[i])):console.error("Can't add callback for model:",e),i}removeCallback(e,t=0){let n=!1;return void 0!==e&&void 0!==this._callbacks[e]&&(n=viewEnv.removeDataChangedCallback(e,t),delete this._callbacks[e]),n||console.error("Can't remove callback by id:",e),n}_emmitDataChanged(e,t,n){n.forEach(n=>{const i=this._callbacks[n];void 0!==i&&i(e,t)})}}i.__instance=void 0,t.a=i},function(module,__webpack_exports__,__webpack_require__){"use strict";var _DataTracker__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0);class ViewModel{constructor(path,watchingFields=[]){this.dataTracker=void 0,this.modelPath=void 0,this.callbacks=void 0,this.data=void 0,this._notifyObservers=()=>{this.data=eval(this.modelPath),this.callbacks.forEach(e=>{e(this.data)})},this.dataTracker=new _DataTracker__WEBPACK_IMPORTED_MODULE_0__.a,this.modelPath=path,this.callbacks=new Set,Object(_index__WEBPACK_IMPORTED_MODULE_1__.a)().then(()=>{this._addCallback(path),watchingFields.forEach(e=>{this._addCallback(path+"."+e)}),this._notifyObservers()})}subscribe(e){this.callbacks.add(e),null!==this.data&&void 0!==this.data&&e(this.data)}unsubscribe(e){this.callbacks.delete(e)}destroy(){this.dataTracker.clear(),this.callbacks.clear()}_addCallback(e){this.dataTracker.addCallback(e,this._notifyObservers)}}__webpack_exports__.a=ViewModel},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return(function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}())}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},s=2;var a=20,c=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,r=0;function a(){n&&(n=!1,e()),i&&l()}function c(){o(a)}function l(){var e=Date.now();if(n){if(e-r<s)return;i=!0}else n=!0,i=!1,setTimeout(c,t);r=e}return l}(this.refresh.bind(this),a)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;c.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),d=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},h=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||r},f=w(0,0,0,0);function v(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+v(e["border-"+n+"-width"])}),0)}function m(e){var t=e.offsetWidth,n=e.offsetHeight;if(!t&&!n)return f;var i=h(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],o=e["padding-"+r];t[r]=v(o)}return t}(i),o=r.left+r.right,s=r.top+r.bottom,a=v(i.width),c=v(i.height);if("border-box"===i.boxSizing&&(Math.round(a+o)!==t&&(a-=p(i,"left","right")+o),Math.round(c+s)!==n&&(c-=p(i,"top","bottom")+s)),!function(e){return e===h(e).document.documentElement}(e)){var l=Math.round(a+o)-t,u=Math.round(c+s)-n;1!==Math.abs(l)&&(a-=l),1!==Math.abs(u)&&(c-=u)}return w(r.left,r.top,a,c)}var _="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof h(e).SVGGraphicsElement}:function(e){return e instanceof h(e).SVGElement&&"function"==typeof e.getBBox};function b(e){return i?_(e)?function(e){var t=e.getBBox();return w(0,0,t.width,t.height)}(e):m(e):f}function w(e,t,n,i){return{x:e,y:t,width:n,height:i}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=w(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=b(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),g=function(e,t){var n,i,r,o,s,a,c,l=(i=(n=t).x,r=n.y,o=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(a.prototype),d(c,{x:i,y:r,width:o,height:s,top:r,right:i+o,bottom:s+r,left:i}),c);d(this,{target:e,contentRect:l})},E=function(){function e(e,t,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new g(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),O="undefined"!=typeof WeakMap?new WeakMap:new n,M=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),i=new E(t,n,this);O.set(this,i)};["observe","unobserve","disconnect"].forEach((function(e){M.prototype[e]=function(){var t;return(t=O.get(this))[e].apply(t,arguments)}}));var T=void 0!==r.ResizeObserver?r.ResizeObserver:M;t.a=T}).call(this,n(4))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}n.r(t);var r=window.document.documentElement,o=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.oMatchesSelector||r.msMatchesSelector;i.prototype.matchesSelector=function(e,t){return o.call(e,t)},i.prototype.querySelectorAll=function(e,t){return t.querySelectorAll(e)},i.prototype.indexes=[];var s=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;i.prototype.indexes.push({name:"ID",selector:function(e){var t;if(t=e.match(s))return t[0].slice(1)},element:function(e){if(e.id)return[e.id]}});var a=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;i.prototype.indexes.push({name:"CLASS",selector:function(e){var t;if(t=e.match(a))return t[0].slice(1)},element:function(e){var t=e.className;if(t){if("string"==typeof t)return t.split(/\s/);if("object"==typeof t&&"baseVal"in t)return t.baseVal.split(/\s/)}}});var c,l=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;i.prototype.indexes.push({name:"TAG",selector:function(e){var t;if(t=e.match(l))return t[0].toUpperCase()},element:function(e){return[e.nodeName.toUpperCase()]}}),i.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}},c="function"==typeof window.Map?window.Map:function(){function e(){this.map={}}return e.prototype.get=function(e){return this.map[e+" "]},e.prototype.set=function(e,t){this.map[e+" "]=t},e}();var u=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function d(e,t){var n,i,r,o,s,a,c=(e=e.slice(0).concat(e.default)).length,l=t,d=[];do{if(u.exec(""),(r=u.exec(l))&&(l=r[3],r[2]||!l))for(n=0;n<c;n++)if(s=(a=e[n]).selector(r[1])){for(i=d.length,o=!1;i--;)if(d[i].index===a&&d[i].key===s){o=!0;break}o||d.push({index:a,key:s});break}}while(r);return d}function h(e,t){var n,i,r;for(n=0,i=e.length;n<i;n++)if(r=e[n],t.isPrototypeOf(r))return r}function f(e,t){return e.id-t.id}i.prototype.logDefaultIndexUsed=function(){},i.prototype.add=function(e,t){var n,i,r,o,s,a,l,u,f=this.activeIndexes,v=this.selectors,p=this.selectorObjects;if("string"==typeof e){for(p[(n={id:this.uid++,selector:e,data:t}).id]=n,l=d(this.indexes,e),i=0;i<l.length;i++)o=(u=l[i]).key,(s=h(f,r=u.index))||((s=Object.create(r)).map=new c,f.push(s)),r===this.indexes.default&&this.logDefaultIndexUsed(n),(a=s.map.get(o))||(a=[],s.map.set(o,a)),a.push(n);this.size++,v.push(e)}},i.prototype.remove=function(e,t){if("string"==typeof e){var n,i,r,o,s,a,c,l,u=this.activeIndexes,h=this.selectors=[],f=this.selectorObjects,v={},p=1===arguments.length;for(n=d(this.indexes,e),r=0;r<n.length;r++)for(i=n[r],o=u.length;o--;)if(a=u[o],i.index.isPrototypeOf(a)){if(c=a.map.get(i.key))for(s=c.length;s--;)(l=c[s]).selector!==e||!p&&l.data!==t||(c.splice(s,1),v[l.id]=!0);break}for(r in v)delete f[r],this.size--;for(r in f)h.push(f[r].selector)}},i.prototype.queryAll=function(e){if(!this.selectors.length)return[];var t,n,i,r,o,s,a,c,l={},u=[],d=this.querySelectorAll(this.selectors.join(", "),e);for(t=0,i=d.length;t<i;t++)for(o=d[t],n=0,r=(s=this.matches(o)).length;n<r;n++)l[(c=s[n]).id]?a=l[c.id]:(a={id:c.id,selector:c.selector,data:c.data,elements:[]},l[c.id]=a,u.push(a)),a.elements.push(o);return u.sort(f)},i.prototype.matches=function(e){if(!e)return[];var t,n,i,r,o,s,a,c,l,u,d,h=this.activeIndexes,v={},p=[];for(t=0,r=h.length;t<r;t++)if(c=(a=h[t]).element(e))for(n=0,o=c.length;n<o;n++)if(l=a.map.get(c[n]))for(i=0,s=l.length;i<s;i++)!v[d=(u=l[i]).id]&&this.matchesSelector(e,u.selector)&&(v[d]=!0,p.push(u));return p.sort(f)};var v=null,p=null,m=[];function _(e,t){var n=[];function i(){var e=n;n=[],t(e)}return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];n.push(r),1===n.length&&b(e,i)}}function b(e,t){p||(p=new MutationObserver(w)),v||(v=e.createElement("div"),p.observe(v,{attributes:!0})),m.push(t),v.setAttribute("data-twiddle",""+Date.now())}function w(){var e=m;m=[];for(var t=0;t<e.length;t++)try{e[t]()}catch(e){setTimeout((function(){throw e}),0)}}var y=new WeakMap,g=new WeakMap,E=new WeakMap,O=new WeakMap;function M(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i[0],o=i[1],s=i[2];r===k?(T(s,o),S(s,o)):r===L?A(s,o):r===P&&C(e.observers,o)}}function T(e,t){if(t instanceof e.elementConstructor){var n=y.get(t);if(n||(n=[],y.set(t,n)),-1===n.indexOf(e.id)){var i=void 0;if(e.initialize&&(i=e.initialize.call(void 0,t)),i){var r=g.get(t);r||(r={},g.set(t,r)),r[""+e.id]=i}n.push(e.id)}}}function S(e,t){if(t instanceof e.elementConstructor){var n=O.get(t);if(n||(n=[],O.set(t,n)),-1===n.indexOf(e.id)){e.elements.push(t);var i=g.get(t),r=i?i[""+e.id]:null;if(r&&r.add&&r.add.call(void 0,t),e.subscribe){var o=e.subscribe.call(void 0,t);if(o){var s=E.get(t);s||(s={},E.set(t,s)),s[""+e.id]=o}}e.add&&e.add.call(void 0,t),n.push(e.id)}}}function A(e,t){if(t instanceof e.elementConstructor){var n=O.get(t);if(n){var i=e.elements.indexOf(t);if(-1!==i&&e.elements.splice(i,1),-1!==(i=n.indexOf(e.id))){var r=g.get(t),o=r?r[""+e.id]:null;if(o&&o.remove&&o.remove.call(void 0,t),e.subscribe){var s=E.get(t),a=s?s[""+e.id]:null;a&&a.unsubscribe&&a.unsubscribe()}e.remove&&e.remove.call(void 0,t),n.splice(i,1)}0===n.length&&O.delete(t)}}}function C(e,t){var n=O.get(t);if(n){for(var i=n.slice(0),r=0;r<i.length;r++){var o=e[i[r]];if(o){var s=o.elements.indexOf(t);-1!==s&&o.elements.splice(s,1);var a=g.get(t),c=a?a[""+o.id]:null;c&&c.remove&&c.remove.call(void 0,t);var l=E.get(t),u=l?l[""+o.id]:null;u&&u.unsubscribe&&u.unsubscribe(),o.remove&&o.remove.call(void 0,t)}}O.delete(t)}}var x=null;function R(e){return"matches"in e||"webkitMatchesSelector"in e||"mozMatchesSelector"in e||"oMatchesSelector"in e||"msMatchesSelector"in e}var k=1,L=2,P=3;function D(e,t,n){for(var i=0;i<n.length;i++){var r=n[i];"childList"===r.type?(I(e,t,r.addedNodes||[]),N(e,t,r.removedNodes||[])):"attributes"===r.type&&F(e,t,r.target)}(function(e){if(null===x){var t=e.createElement("div"),n=e.createElement("div"),i=e.createElement("div");t.appendChild(n),n.appendChild(i),t.innerHTML="",x=i.parentNode!==n}return x})(e.ownerDocument)&&function(e,t){for(var n=0;n<e.observers.length;n++){var i=e.observers[n];if(i)for(var r=i.elements,o=0;o<r.length;o++){var s=r[o];s.parentNode||t.push([P,s])}}}(e,t)}function I(e,t,n){for(var i=0;i<n.length;i++){var r=n[i];if(R(r))for(var o=e.selectorSet.matches(r),s=0;s<o.length;s++){var a=o[s].data;t.push([k,r,a])}if("querySelectorAll"in r)for(var c=e.selectorSet.queryAll(r),l=0;l<c.length;l++)for(var u=c[l],d=u.data,h=u.elements,f=0;f<h.length;f++)t.push([k,h[f],d])}}function N(e,t,n){for(var i=0;i<n.length;i++){var r=n[i];if("querySelectorAll"in r){t.push([P,r]);for(var o=r.querySelectorAll("*"),s=0;s<o.length;s++)t.push([P,o[s]])}}}function F(e,t,n){if(R(n))for(var i=e.selectorSet.matches(n),r=0;r<i.length;r++){var o=i[r].data;t.push([k,n,o])}if("querySelectorAll"in n){var s=O.get(n);if(s)for(var a=0;a<s.length;a++){var c=e.observers[s[a]];c&&(e.selectorSet.matchesSelector(n,c.selector)||t.push([L,n,c]))}}}var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W=0;function V(e){this.rootNode=9===e.nodeType?e.documentElement:e,this.ownerDocument=9===e.nodeType?e:e.ownerDocument,this.observers=[],this.selectorSet=new i,this.mutationObserver=new MutationObserver(z.bind(this,this)),this._scheduleAddRootNodes=_(this.ownerDocument,B.bind(this,this)),this._handleThrottledChangedTargets=_(this.ownerDocument,G.bind(this,this)),this.rootNode.addEventListener("change",q.bind(this,this),!1),function(e,t){var n=e.readyState;"interactive"===n||"complete"===n?b(e,t):e.addEventListener("DOMContentLoaded",b(e,t))}(this.ownerDocument,U.bind(this,this))}function U(e){e.mutationObserver.observe(e.rootNode,{childList:!0,attributes:!0,subtree:!0}),e._scheduleAddRootNodes()}function B(e){var t=[];I(e,t,[e.rootNode]),M(e,t)}function z(e,t){var n=[];D(e,n,t),M(e,n)}function q(e,t){e._handleThrottledChangedTargets(t.target)}function G(e,t){var n=[];!function(e,t,n){for(var i=0;i<n.length;i++)for(var r=n[i],o=r.form?r.form.elements:e.rootNode.querySelectorAll("input"),s=0;s<o.length;s++)F(e,t,o[s])}(e,n,t),M(e,n)}V.prototype.disconnect=function(){this.mutationObserver.disconnect()},V.prototype.observe=function(e,t){var n=void 0;"function"==typeof t?n={selector:e,initialize:t}:"object"===(void 0===t?"undefined":j(t))?(n=t).selector=e:n=e;var i=this,r={id:W++,selector:n.selector,initialize:n.initialize,add:n.add,remove:n.remove,subscribe:n.subscribe,elements:[],elementConstructor:n.hasOwnProperty("constructor")?n.constructor:this.ownerDocument.defaultView.Element,abort:function(){i._abortObserving(r)}};return this.selectorSet.add(r.selector,r),this.observers[r.id]=r,this._scheduleAddRootNodes(),r},V.prototype._abortObserving=function(e){for(var t=e.elements,n=0;n<t.length;n++)A(e,t[n]);this.selectorSet.remove(e.selector,e),delete this.observers[e.id]},V.prototype.triggerObservers=function(e){var t=[];!function(e,t,n){if("querySelectorAll"in n){F(e,t,n);for(var i=n.querySelectorAll("*"),r=0;r<i.length;r++)F(e,t,i[r])}}(this,t,e),M(this,t)};var H=void 0;function K(){return H||(H=new V(window.document)),H}var X,Z=n(3),J=n(0);function Y(e,t,n,i,r,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(i,r)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){Y(o,i,r,s,a,"next",e)}function a(e){Y(o,i,r,s,a,"throw",e)}s(void 0)}))}}n.d(t,"Tutorial",(function(){return ne})),function(e){e["nth-child"]="nth-child"}(X||(X={}));const $=new Map,ee=e=>{if("HTML"===e.nodeName)return{el:e,native:!0};const t=e.parentNode;if(t){if(t.className.includes("ScrollArea_base"))return{el:t,native:!1};const e=getComputedStyle(t).overflow;return"scroll"===e||"auto"===e?{el:t,native:!0}:ee(t)}},te=function(){var e=Q((function*({scrollableContainer:e,el:t,componentId:n,viewId:i}){yield Object(J.b)();const r=t.getBoundingClientRect();if(((e,t)=>{const n=e.top-t.top<=t.height&&e.top+e.height-t.top>=0,i=e.left-t.left<=t.width&&e.left+e.width-t.left>=0;return n&&i})(r,e.el.getBoundingClientRect())){const e=window.tutorialModel.foundComponents.items.filter(e=>Boolean(e)&&e.value.componentId===n)[0];if(e){const t=e.value;t.rect.x=r.x,t.rect.y=r.y,t.rect.width=r.width,t.rect.height=r.height,window.tutorialModel.onComponentUpdate({componentId:n,viewId:i})}}}));return function(t){return e.apply(this,arguments)}}(),ne=e=>{const t=window.tutorialModel.descriptions.views.filter(t=>t.value.viewId===e)[0];if(t){const n=t.value.components;window.addEventListener("resize",()=>{$.forEach(({el:t,scrollableContainer:n},i)=>{te({scrollableContainer:n,el:t,componentId:i,viewId:e})})}),n.length&&n.forEach(({value:{path:e,componentId:t,viewId:n}})=>{if(!e)return;let i=-1;const r=e.split(":"),o=r[0],s=r.slice(1).reduce((e,t)=>{const n=t.split(/\(([^)]+)\)/),i=n[0],r=n[1],o=parseInt(r);return e[i]=isNaN(o)?r:o,e},{}),a=new Z.a(e=>{const i=window.tutorialModel.foundComponents.items.filter(e=>Boolean(e)&&e.value.componentId===t)[0];if(i){const c=i.value;var r=e,o=Array.isArray(r),s=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(s>=r.length)break;a=r[s++]}else{if((s=r.next()).done)break;a=s.value}const e=a.contentRect,i=e.width,l=e.height;c.rect.width=i,c.rect.height=l,window.tutorialModel.onComponentUpdate({componentId:t,viewId:n})}}});!function(){var e;(e=K()).observe.apply(e,arguments)}(o,{initialize(e){if(s[X["nth-child"]]>0&&(i++,i!==s[X["nth-child"]]))return;const r=ee(e),o=function(){var i=Q((function*(){te({scrollableContainer:r,el:e,componentId:t,viewId:n})}));return function(){return i.apply(this,arguments)}}();let c;return{add:()=>Q((function*(){$.set(t,{el:e,scrollableContainer:r}),yield Object(J.b)(),yield Object(J.b)(),r&&(r.native?r.el.addEventListener("scroll",o):(r.el.addEventListener("ps-scroll-x",o),r.el.addEventListener("ps-scroll-y",o))),a.observe(e);const i=e.getBoundingClientRect();let s=i.x,l=i.y;c=window.setInterval(()=>{(()=>{const t=e.getBoundingClientRect(),n=t.x!==s||l!==t.y;return s=t.x,l=t.y,n})()||(window.tutorialModel.onComponentFound({componentId:t,viewId:n,x:s,y:l,width:i.width,height:i.height}),clearInterval(c))},500)}))(),remove(){clearInterval(c),$.delete(t),i=-1,r&&(r.native?r.el.removeEventListener("scroll",o):(r.el.removeEventListener("ps-scroll-x",o),r.el.removeEventListener("ps-scroll-y",o))),a.disconnect(),window.tutorialModel.foundComponents&&window.tutorialModel.foundComponents.items.some(e=>e.value.componentId===t)&&window.tutorialModel.onComponentDisposed({componentId:t,viewId:n})}}}})})}return{updateComponents:()=>{$.forEach(({el:t,scrollableContainer:n},i)=>{te({scrollableContainer:n,el:t,componentId:i,viewId:e})})}}};engine.on("initialJSExecuted",()=>{const e=ne(window.__featureId.toString());window.tutorialApi=e})}]);